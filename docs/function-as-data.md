# GUIで関数を扱う

GUIベースのソフトウェアには、数値型を扱うスライダーや文字列型を扱うテキストボックスといったコンポーネントが存在しますが、「関数」をデータとして入力できるUIは殆ど見かけません。つまり、こうしたツールのGUIでは[第一級関数](https://ja.wikipedia.org/wiki/%E7%AC%AC%E4%B8%80%E7%B4%9A%E9%96%A2%E6%95%B0)を用いた処理は表現できないということです。多くのソフトウェア設計者は、ユーザーフレンドリーなUIに関数オブジェクトなんて抽象的で大層なものは要らないと考えがちなのですが、このことが却ってUIを複雑奇怪なものにしてしまうことは、しばしばあります。

具体的な例として、数値スライダーのバリデーションについて考えてみます。想定されるケースとしては、ユーザーがカスタムアセットを作り、それをコントロールするためのパラメーター欄を設定している時なんかでしょうか。まずスライダーを表示するには、その下限値と上限値が必要です。しかし、その範囲外の値をユーザーが入力した場合、それを許容するか、強制的にある範囲内に丸め込むかには選択の余地が残ります。例えば、不透明度はスライダー表示も入力できる値も0-100%の範囲をとる必要があります。一方で、ブラシサイズのスライダーは、利便性を考えると0〜(キャンバス幅)pxの範囲にするのが妥当ですが、値としての上限値は理屈上無限です。そうしたケースに対応するために、いくつかのソフトでは、スライダーの範囲の入力欄とは別に、その範囲外の値をそれぞれ下限値、上限値ごとに丸め込むかどうかを設定する欄があったりします。このように、ユーザーがソフト内でUIを自作するには、何らかのバリデーション機能をユーザー自身に設定してもらう必要があります。

もう少しこの例を発展させてみます。例えば、「オブジェクトの複製数」のスライダーは非負整数になっている必要があります。そうしたUIを設定出来るようにする場合、単に整数か実数かのチェックボックスを加えるでも良いですが、「0.1刻みの値」「偶数」「10の倍数」などにも対応するために、より含みをもたせて「ステップ」欄を設けましょう。ステップ=0の時スライダーは実数値を取るとします。しかし、これはとても特殊な例ですが、
