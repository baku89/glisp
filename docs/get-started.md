# はじめてのスケッチ

## 丸を描く

一番簡単なスケッチの例です。

```cljs
(circle [50 50] 40)
```

関数 `circle` は、丸のパスを生成する関数です。`[100 100]` は丸の中心、`40`は半径となります。Glisp のキャンバスは中央が原点で正の方向は x 軸は右、 y 軸は下方向です。

しかし、まだ塗りや線が設定されていないので、点線で表示されています。これをトマト色に塗りつぶしてみます。

```cljs
(style (fill "tomato")
 (circle [50 50] 40))
```

`style` はスタイルを適用する関数です。 1 つめの引数 `(fill "red")` というスタイルを 2 つめ以降の引数、この場合は `(circle [50 50] 40)` というパスに適用しています。ちなみに、`fill` もまた、塗りのスタイル情報を返す関数です。

ついでに線色もつけたい場合は、 `style` を入れ子にします。

```cljs
(style (fill "RoyalBlue")
 (style (stroke "tomato" 10)
  (circle [50 50] 40)))
```

スタイルは外側から順に描画されます。この例では、丸がまずトマト色で塗られてから太さ 10 の青い線で縁取られます。この表記は、`style` 関数の第 2 引数をベクタにすることで、このように縮めて書くこともできます。

```cljs
(style [(fill "tomato") (stroke "RoyalBlue" 10)]
 (circle [50 50] 40))
```

複数のパスにまとめてスタイルを適用することもできます。

```cljs
(style (stroke "turquoise" 6)
 (circle [50 50] 40)
 (rect [20 40 60 20]))
```

`rect` は左上の位置と幅・高さから四角形のパスを返す関数です。

## トランスフォーム

`transform` 関数を使って、グループ全体の位置や角度といったトランスフォーム値を設定することができます。

```cljs
(transform (translate [30 30])
 (style (fill "gold")
  (rect [0 0 60 40])))
```

`translate` 関数は、平行移動のトランスフォーム値（実体は行列）を返します。こうしたトランスフォーム値を返す関数は他に `scale` や `rotate` などがありますが、これらは `mat2d/*` 関数で組み合わせることが出来ます。

```cljs
(transform (mat2d/* (translate [20 10])
                    (rotate (deg 20))
                    (scale [1.5 1]))
 (style (fill "gold")
  (rect [0 0 50 40])))
```

`rotate` はラジアン角を引数に取るので、`deg` 関数で「度」からラジアンへの変換をしています。

細かい話は[トランスフォーム](transform)を参照してください。

## インスペクタとハンドル

これまでのスケッチ例の**Open in Editor**からエディタを開くことができます。Glisp ではテキストとしてのコードを直接編集することもできますが、ビューワーや画面左下のインスペクタからも値を調整することができます。対応している関数であれば、その括弧の内側を選択すると自動的にハンドルやインスペクタが表示されます。

![](handles.gif)
